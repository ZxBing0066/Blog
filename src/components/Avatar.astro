---
import avatar from '@src/assets/avatar.webp';
import { Image } from 'astro:assets';
---

<div class='h-full w-full avatar-wrapper'>
    <div class='h-full w-full avatar overflow-hidden rounded-full ring-4 ring-me-primary/20'>
        <Image src={avatar} alt='嘿壳' class='h-full w-full object-cover' />
    </div>
</div>

<style>
    @keyframes shake-crazy {
        2% {
            transform: translate(2px, -9px) rotate(0.5deg);
        }
        4% {
            transform: translate(-5px, 0px) rotate(-1.5deg);
        }
        6% {
            transform: translate(-6px, 1px) rotate(1.5deg);
        }
        8% {
            transform: translate(4px, 6px) rotate(-0.5deg);
        }
        10% {
            transform: translate(-7px, 3px) rotate(1.5deg);
        }
        12% {
            transform: translate(3px, 10px) rotate(1.5deg);
        }
        14% {
            transform: translate(2px, 6px) rotate(-2.5deg);
        }
        16% {
            transform: translate(-4px, -9px) rotate(-0.5deg);
        }
        18% {
            transform: translate(-6px, -4px) rotate(-1.5deg);
        }
        20% {
            transform: translate(10px, -3px) rotate(3.5deg);
        }
        22% {
            transform: translate(-2px, 5px) rotate(2.5deg);
        }
        24% {
            transform: translate(2px, 10px) rotate(3.5deg);
        }
        26% {
            transform: translate(2px, 8px) rotate(2.5deg);
        }
        28% {
            transform: translate(7px, -4px) rotate(-1.5deg);
        }
        30% {
            transform: translate(8px, 7px) rotate(-1.5deg);
        }
        32% {
            transform: translate(0px, 7px) rotate(1.5deg);
        }
        34% {
            transform: translate(9px, 9px) rotate(-0.5deg);
        }
        36% {
            transform: translate(9px, -3px) rotate(2.5deg);
        }
        38% {
            transform: translate(0px, 7px) rotate(-0.5deg);
        }
        40% {
            transform: translate(2px, 6px) rotate(3.5deg);
        }
        42% {
            transform: translate(-2px, -7px) rotate(-0.5deg);
        }
        44% {
            transform: translate(-2px, 7px) rotate(-1.5deg);
        }
        46% {
            transform: translate(8px, -8px) rotate(-0.5deg);
        }
        48% {
            transform: translate(-8px, -9px) rotate(-0.5deg);
        }
        50% {
            transform: translate(10px, 5px) rotate(3.5deg);
        }
        52% {
            transform: translate(0px, 0px) rotate(-0.5deg);
        }
        54% {
            transform: translate(-1px, -8px) rotate(-2.5deg);
        }
        56% {
            transform: translate(-7px, -4px) rotate(2.5deg);
        }
        58% {
            transform: translate(-7px, -9px) rotate(-2.5deg);
        }
        60% {
            transform: translate(7px, 5px) rotate(-1.5deg);
        }
        62% {
            transform: translate(-8px, 1px) rotate(-1.5deg);
        }
        64% {
            transform: translate(7px, 4px) rotate(2.5deg);
        }
        66% {
            transform: translate(0px, 6px) rotate(-2.5deg);
        }
        68% {
            transform: translate(0px, 9px) rotate(-2.5deg);
        }
        70% {
            transform: translate(9px, 4px) rotate(1.5deg);
        }
        72% {
            transform: translate(-9px, 3px) rotate(-0.5deg);
        }
        74% {
            transform: translate(7px, -4px) rotate(-1.5deg);
        }
        76% {
            transform: translate(-1px, 8px) rotate(0.5deg);
        }
        78% {
            transform: translate(-7px, 9px) rotate(3.5deg);
        }
        80% {
            transform: translate(4px, 9px) rotate(3.5deg);
        }
        82% {
            transform: translate(0px, 6px) rotate(3.5deg);
        }
        84% {
            transform: translate(-5px, -2px) rotate(1.5deg);
        }
        86% {
            transform: translate(-4px, 4px) rotate(0.5deg);
        }
        88% {
            transform: translate(0px, -9px) rotate(1.5deg);
        }
        90% {
            transform: translate(4px, 5px) rotate(-0.5deg);
        }
        92% {
            transform: translate(5px, 0px) rotate(2.5deg);
        }
        94% {
            transform: translate(9px, -8px) rotate(2.5deg);
        }
        96% {
            transform: translate(-5px, 3px) rotate(-2.5deg);
        }
        98% {
            transform: translate(-8px, -8px) rotate(1.5deg);
        }
        0%,
        100% {
            transform: translate(0, 0) rotate(0);
        }
    }

    @keyframes spin {
        0% {
            transform: rotate(0deg);
        }
        100% {
            transform: rotate(360deg);
        }
    }

    @keyframes blink {
        0%,
        100% {
            opacity: 1;
        }
        50% {
            opacity: 0;
        }
    }

    @keyframes pulse {
        0% {
            transform: scale(1);
        }
        50% {
            transform: scale(1.3);
        }
        100% {
            transform: scale(1);
        }
    }

    @keyframes wobble {
        0% {
            transform: translateX(0%);
        }
        15% {
            transform: translateX(-25%) rotate(-5deg);
        }
        30% {
            transform: translateX(20%) rotate(3deg);
        }
        45% {
            transform: translateX(-15%) rotate(-3deg);
        }
        60% {
            transform: translateX(10%) rotate(2deg);
        }
        75% {
            transform: translateX(-5%) rotate(-1deg);
        }
        100% {
            transform: translateX(0%);
        }
    }

    @keyframes flip {
        0% {
            transform: perspective(400px) rotateY(0);
            animation-timing-function: ease-out;
        }
        40% {
            transform: perspective(400px) translateZ(150px) rotateY(170deg);
            animation-timing-function: ease-out;
        }
        50% {
            transform: perspective(400px) translateZ(150px) rotateY(190deg) scale(1);
            animation-timing-function: ease-in;
        }
        80% {
            transform: perspective(400px) rotateY(360deg) scale(0.95);
            animation-timing-function: ease-in;
        }
        100% {
            transform: perspective(400px) scale(1);
            animation-timing-function: ease-in;
        }
    }

    .avatar {
        font-size: 0;
    }
    .avatar-wrapper {
        .speed-up-spin {
            transform: rotate(0turn);
        }
        &:hover {
            .shake-crazy {
                animation: shake-crazy 100ms ease-in-out infinite;
            }
            .spin {
                animation: spin 1s linear infinite;
            }
            .speed-up-spin {
                transform: rotate(666turn);
                transition-property: all;
                transition-duration: 60s;
                transition-timing-function: cubic-bezier(0.34, 0, 0.84, 1);
            }
            .bounce {
                animation: bounce 1s ease infinite;
            }
            .pulse {
                animation: pulse 1s ease-in-out infinite;
            }
            .wobble {
                animation: wobble 1s ease-in-out 1;
            }
            .flip {
                animation: flip 1s ease-in-out 1;
                backface-visibility: visible !important;
            }
        }
    }
</style>

<script>
    const avatar = document.querySelector('.avatar');
    if (avatar) {
        const classes = ['shake-crazy', 'spin', 'speed-up-spin', 'pulse', 'wobble', 'flip'];
        const randomClass = classes[Math.floor(Math.random() * classes.length)];
        avatar.classList.add(randomClass);
    }
</script>
