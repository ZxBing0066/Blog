<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <title>前端模块简史 - CJS & *MD & ES Modules & SystemJS & Webpack | HeyFE</title>
        <meta name="description" content="HeyFE's Blog">
        <link rel="stylesheet" href="/assets/style.da157549.css">
        <link rel="modulepreload" href="/assets/app.d36d7bad.js">
    <link rel="modulepreload" href="/assets/blog_2020-modules.md.e77bcabf.lean.js">
        
        <script src="https://cdn.jsdelivr.net/npm/pace-js@latest/pace.min.js"></script>
  <meta name="twitter:title" content="前端模块简史 - CJS &amp; *MD &amp; ES Modules &amp; SystemJS &amp; Webpack | HeyFE">
  <meta property="og:title" content="前端模块简史 - CJS &amp; *MD &amp; ES Modules &amp; SystemJS &amp; Webpack | HeyFE">
    </head>
    <body>
        <div id="app"><div class="theme"><header class="header _header_1smd2_9"><div class="wrap"><a href="/"><span class="logo">HeyFE&#x27;s Blog</span></a><ul class="nav"><li class="nav-item"><a class="nav-link" href="/">Blog</a></li></ul></div></header><div class="main"><main class="blog _blog_2756q_1"><div class="container"><div class="reading-area"><div class="content-wrap"><div class="meta"><span class="_create-time_1hpiz_1 create-time">2020年6月18日</span><div class="tags _tags_xzcda_1"><a class="tag" href="/blog/?tag=javascript">javascript</a><a class="tag" href="/blog/?tag=module">module</a></div></div><div style="position:relative" class="content"><div><h1 id="前端模块简史-cjs-md-es-modules-systemjs-webpack" tabindex="-1">前端模块简史 - CJS &amp; *MD &amp; ES Modules &amp; SystemJS &amp; Webpack <a class="header-anchor" href="#前端模块简史-cjs-md-es-modules-systemjs-webpack" aria-hidden="true">#</a></h1>
<blockquote>
<p>最近这些年前端发展速度迅猛，而前端的模块化方案也在不断的更新，这里记录整理下工作 8 年所了解的一些关于前端模块化的知识，顺便 “考下古” ，由于涉及的内容较多不是每个都很了解，只能尽量保证输出内容的准确性。</p>
</blockquote>
<p>配合 demo <a href="https://github.com/ZxBing0066/fe-module-examples" target="_blank" rel="noopener noreferrer"> FE-module-examples</a> 食用更佳</p>
<h2 id="文件模块" tabindex="-1">文件模块 <a class="header-anchor" href="#文件模块" aria-hidden="true">#</a></h2>
<p>在没有前端模块化规范前，我们通过抽离公共逻辑放到公共代码中，而后在不同的页面中直接引用想要的文件来实现代码模块化和模块共享。</p>
<p>page1.html</p>
<div class="language-html"><pre><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Demo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://code.jquery.com/jquery-1.1.1.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/header.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/footer.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/menu.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/page1.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>
</code></pre>
</div><p>page2.html</p>
<div class="language-html"><pre><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Demo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://code.jquery.com/jquery-1.1.1.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/header.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/footer.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/menu.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/page2.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>
</code></pre>
</div><p>模块的定义方式也在不断的进化</p>
<h3 id="全局变量" tabindex="-1">全局变量 <a class="header-anchor" href="#全局变量" aria-hidden="true">#</a></h3>
<p>早期的会将变量都暴露在全局，这样方便调用但是却会严重污染全局变量。</p>
<p>header.js</p>
<div class="language-js"><pre><code>window<span class="token punctuation">.</span><span class="token function-variable function">login</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span>
window<span class="token punctuation">.</span><span class="token function-variable function">logout</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre>
</div><p>main.js</p>
<div class="language-js"><pre><code>window<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</div><h3 id="命名空间" tabindex="-1">命名空间 <a class="header-anchor" href="#命名空间" aria-hidden="true">#</a></h3>
<p>而后出现了使用命名空间来减少对全局作用域的影响，但是由于代码都在全局作用域执行很容易造成意外的污染。</p>
<p>header.js</p>
<div class="language-js"><pre><code><span class="token keyword">var</span> header <span class="token operator">=</span> window<span class="token punctuation">.</span>header <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
header<span class="token punctuation">.</span><span class="token function-variable function">login</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span>
header<span class="token punctuation">.</span><span class="token function-variable function">logout</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre>
</div><p>main.js</p>
<div class="language-js"><pre><code>window<span class="token punctuation">.</span>header<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</div><h3 id="iife-包裹" tabindex="-1">IIFE 包裹 <a class="header-anchor" href="#iife-包裹" aria-hidden="true">#</a></h3>
<p>然后大家开始使用 IIFE（自执行/立即执行函数）通过函数作用域包裹代码，进一步减少对全局作用域的污染。</p>
<p>header.js</p>
<div class="language-js"><pre><code>window<span class="token punctuation">.</span>header <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">login</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">logout</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</div><p>main.js</p>
<div class="language-js"><pre><code>window<span class="token punctuation">.</span>header<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</div><h2 id="模块系统" tabindex="-1">模块系统 <a class="header-anchor" href="#模块系统" aria-hidden="true">#</a></h2>
<p>随着时间的推移，社区开始出现各种模块系统。</p>
<h3 id="commonjs（以下称-cjs）" tabindex="-1">CommonJS（以下称 CJS） <a class="header-anchor" href="#commonjs（以下称-cjs）" aria-hidden="true">#</a></h3>
<p>最先是 CJS，早期叫 ServerJS，推出 Modules/1.0 规范后在 nodejs 逐渐发展为内置模块系统。CJS 通过 require 和 module 来导入和导出模块。</p>
<p>a.js</p>
<div class="language-js"><pre><code>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">log</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
</div><p>demo.js</p>
<div class="language-js"><pre><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">a</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</div><p>其实现基于 IIFE，CJS 模块在 nodejs 中被函数包裹</p>
<div class="language-js"><pre><code><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">exports<span class="token punctuation">,</span> require<span class="token punctuation">,</span> module<span class="token punctuation">,</span> __filename<span class="token punctuation">,</span> __dirname</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">log</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</div><p>从而实现模块的隔离与定义。</p>
<h3 id="amd" tabindex="-1">AMD <a class="header-anchor" href="#amd" aria-hidden="true">#</a></h3>
<p>而由于 CJS 不适用于浏览器，AMD 规范由于各种原因从 CJS 阵营分离出来，自成一家，代表作就是 require.js。</p>
<p>a.js</p>
<div class="language-js"><pre><code><span class="token function">define</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">log</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">log</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</div><p>b.js</p>
<div class="language-js"><pre><code><span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">loga</span><span class="token operator">:</span> a<span class="token punctuation">.</span>log<span class="token punctuation">,</span>
        <span class="token function-variable function">logb</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">log</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</div><p>main.js</p>
<div class="language-js"><pre><code><span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    a<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    b<span class="token punctuation">.</span><span class="token function">logb</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    b<span class="token punctuation">.</span><span class="token function">logb</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</div><div class="language-!"><pre><code>require.js 虽然被广泛支持，但是有些库为了兼容某些使用情况，会注入到全局变量，如 lodash。
</code></pre>
</div><h3 id="cmd" tabindex="-1">CMD <a class="header-anchor" href="#cmd" aria-hidden="true">#</a></h3>
<p>然而 AMD 与 CJS 存在一些差异导致一些人的不认可。</p>
<p>CJS</p>
<div class="language-js"><pre><code><span class="token comment">// 只有当 require 模块时，CJS 才会加载模块，并执行</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token function">reuqire</span><span class="token punctuation">(</span><span class="token string">'js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</div><p>AMD</p>
<div class="language-js"><pre><code><span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 在这里哪怕没有用到 a 模块，a 模块的代码也已经下载并执行完成</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</div><p>由于浏览器的限制，要做到和 CJS 一样同步下载并执行没有办法（其实有办法，不过不太好）于是国内大牛玉伯，开发了 sea.js 并推广了 CMD 规范。 sea.js 与 require.js 最大的不同，就是关于模块的执行时机。</p>
<p>CMD</p>
<div class="language-js"><pre><code><span class="token function">define</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">require</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 这里 a 模块虽然下载完成，但是它的 factory 并没有执行</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 当 a 模块被首次 require 时，它的 factory 才开始执行</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</div><div class="language-!"><pre><code>这里很多人对 CMD 有误解，以为 CMD 是懒加载，其实 CMD 不是懒加载，而是懒执行。由于浏览器的限制，其实这种语法是无法实现懒加载的。
</code></pre>
</div><p>不过随着 require.js 的更新，在之后的 require.js 也实现了懒执行，并且在支持了 CJS 的模块（伪支持）。</p>
<p>具体的关于 AMD、CMD 标准之争的历史想考古的同学可以看这里： <a href="https://github.com/seajs/seajs/issues/588" target="_blank" rel="noopener noreferrer">前端模块化开发那点历史</a></p>
<h3 id="umd" tabindex="-1">UMD <a class="header-anchor" href="#umd" aria-hidden="true">#</a></h3>
<p>随着模块标准越来越多，对一些类库出现了困扰，类库为了兼容各模块系统，又出现了 UMD 规范，标准的 UMD 主要兼容了 CJS、AMD 以及全局变量三种模块方式。</p>
<div class="language-js"><pre><code><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">global<span class="token punctuation">,</span> factory</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">typeof</span> exports <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> module <span class="token operator">!==</span> <span class="token string">'undefined'</span>
        <span class="token operator">?</span> <span class="token function">factory</span><span class="token punctuation">(</span>exports<span class="token punctuation">,</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'react'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token operator">:</span> <span class="token keyword">typeof</span> define <span class="token operator">===</span> <span class="token string">'function'</span> <span class="token operator">&amp;&amp;</span> define<span class="token punctuation">.</span>amd
        <span class="token operator">?</span> <span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'exports'</span><span class="token punctuation">,</span> <span class="token string">'dep'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> factory<span class="token punctuation">)</span>
        <span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>global <span class="token operator">=</span> global <span class="token operator">||</span> self<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">factory</span><span class="token punctuation">(</span><span class="token punctuation">(</span>global<span class="token punctuation">.</span>module <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> global<span class="token punctuation">.</span>dep<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">exports<span class="token punctuation">,</span> dep</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// code</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</div><p>通过判断所在环境，可以让类库适配各种模块系统。</p>
<p>UMD 中也可以添加 CMD 的支持，不过由于前端的发展，CMD 已经逐渐被退出舞台。</p>
<h3 id="es-modules" tabindex="-1">ES Modules <a class="header-anchor" href="#es-modules" aria-hidden="true">#</a></h3>
<p>而随着 ES 标准的更新，逐渐出现了原生的模块化语法 ES Modules。</p>
<p>import 支持两种语法</p>
<h4 id="静态声明-import-module" tabindex="-1">静态声明 import 'module' <a class="header-anchor" href="#静态声明-import-module" aria-hidden="true">#</a></h4>
<p>首先是作为静态声明</p>
<p>b.js</p>
<div class="language-js"><pre><code><span class="token keyword">import</span> a <span class="token keyword">from</span> <span class="token string">'a'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> b<span class="token punctuation">;</span>
</code></pre>
</div><p>静态声明的 import 类似于 CJS 的 require，但是也存在不同之处：</p>
<ol>
<li>import 必须在顶部声明，不得包裹在块或函数中</li>
<li>import 导入的引用为 live bindings（活引用），即在原引用变更时，import 的引用也会变更</li>
<li>import 是将模块按需导入的，而 require 是整个导入文件中所有导出的内容</li>
</ol>
<p>live bindings 可以认为是目前为止 JS 中第一次出现按引用传递。</p>
<div class="language-!"><pre><code>live bindings 虽然在 webpack 中有实现（通过合并模块或将引用修改为模块的属性），但是使用 babel 直接转义代码时，import 会等价于 require，所以使用中需要注意，并且如果是从在 lib 中导出，在其它 lib 中使用时，webpack 也是没办法的
</code></pre>
</div><p>a.js</p>
<div class="language-js"><pre><code><span class="token keyword">let</span> v <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> v <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">v updated</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token operator">++</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</div><p>main.js</p>
<div class="language-js"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> v <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./a.js'</span><span class="token punctuation">;</span>

<span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</div><h4 id="动态导入-import-module" tabindex="-1">动态导入 import('module') <a class="header-anchor" href="#动态导入-import-module" aria-hidden="true">#</a></h4>
<p>同时 import 也支持动态导入模块</p>
<p>dep1.js</p>
<div class="language-js"><pre><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'dep1 ready to run'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">log</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'this is dep1'</span><span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
</div><p>dep2.js</p>
<div class="language-js"><pre><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'dep2 ready to run'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">log</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'this is dep2'</span><span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
</div><p>main.js</p>
<div class="language-js"><pre><code><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>dep1<span class="token punctuation">,</span> dep2<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">await</span> Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./dep1.js'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./dep2.js'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dep1<span class="token punctuation">,</span> dep2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</div><p>配合 await 可以方便的异步导入模块（真懒加载和懒执行），不过从总体速度上会比前置批量加载更影响速度，当然可以通过头部提前导入来优化。注意这里返回值是模块对象，不是 export default 的值（此处返回值类似 require('module') 的值）。</p>
<h3 id="systemjs" tabindex="-1">SystemJS <a class="header-anchor" href="#systemjs" aria-hidden="true">#</a></h3>
<p>除了上述的模块加载器，还有 SystemJS，在国内好像不是太常见，但是作为 Angular2 的推荐选项，国外用的还是比较多。</p>
<p>SystemJS 模块的定义</p>
<div class="language-js"><pre><code>System<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'react'</span><span class="token punctuation">,</span> <span class="token string">'react-dom'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">_export<span class="token punctuation">,</span> _context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token string">'use strict'</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> React<span class="token punctuation">,</span> ReactDOM<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">setters</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">_react</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                React <span class="token operator">=</span> _react<span class="token punctuation">.</span>default<span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">_reactDom</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                ReactDOM <span class="token operator">=</span> _reactDom<span class="token punctuation">.</span>default<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token function-variable function">execute</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
                React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">'A button created by React'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'react-root'</span><span class="token punctuation">)</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">_export<span class="token punctuation">,</span> _context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">_export</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'foo'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</div><p>SystemJS 可以通过各种插件，实现对 AMD、UMD 的加载，并且借助运行时编译器，可以实现对 ES Modules 和 CJS 模块的直接加载，不过官方也不建议用在生产环境，会影响到页面的性能，但作为玩具时还是很方便。</p>
<h2 id="模块打包" tabindex="-1">模块打包 <a class="header-anchor" href="#模块打包" aria-hidden="true">#</a></h2>
<p>除了通过上述的模块管理系统，还有很多在编译时进行模块化管理的工具，如 webpack。</p>
<h3 id="webpack" tabindex="-1">webpack <a class="header-anchor" href="#webpack" aria-hidden="true">#</a></h3>
<h4 id="cjs" tabindex="-1">CJS <a class="header-anchor" href="#cjs" aria-hidden="true">#</a></h4>
<p>先看下 webpack 将 CJS 代码进行打包的结果</p>
<p>源码</p>
<p>cjs.js</p>
<div class="language-js"><pre><code><span class="token keyword">const</span> <span class="token punctuation">{</span> v <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./cjsDep'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</div><div class="language-js"><pre><code><span class="token keyword">let</span> v <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

<span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    v<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span> v <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
</div><p>webpack 打包后的模块部分代码</p>
<div class="language-js"><pre><code><span class="token function">webpackModuleFactory</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> t<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token literal-property property">v</span><span class="token operator">:</span> r <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1e3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> t</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> n <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            n<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1e3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">(</span>e<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">v</span><span class="token operator">:</span> n <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</div><p>源码中开发之使用 CJS 或者 ES Modules 的语法进行编写，打包时 webpack 将每个模块包裹到 function 中进行隔离，然后用模块的数组（也可能是对象） id 进行模块标识，在使用时执行模块函数返回模块值</p>
<h4 id="es-modules-1" tabindex="-1">ES Modules <a class="header-anchor" href="#es-modules-1" aria-hidden="true">#</a></h4>
<p>再看下 ES Modules 代码打出来的包：</p>
<p>源码</p>
<p>es.js</p>
<div class="language-js"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> v <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./esDep'</span><span class="token punctuation">;</span>

<span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</div><p>esDep.js</p>
<div class="language-js"><pre><code><span class="token keyword">let</span> v <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

<span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    v<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token punctuation">{</span> v <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
</div><p>webpack 打包后的模块部分代码</p>
<div class="language-js"><pre><code><span class="token function">webpackModuleFactory</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token number">2</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> t<span class="token punctuation">,</span> r</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token string">'use strict'</span><span class="token punctuation">;</span>
        r<span class="token punctuation">.</span><span class="token function">r</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> n <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            n<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1e3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1e3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</div><p>为了实现 live bindings，webpack 将 dep 和 es 打包到了一起。</p>
<p>而当 dep 被其它 entry 共享时，webpack 将会把 dep 的输出打包成模块，而将 import 的变量转换为模块对象的属性，以此来实现 live bindings。</p>
<div class="language-js"><pre><code><span class="token function">webpackModuleFactory</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> t<span class="token punctuation">,</span> r</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token string">'use strict'</span><span class="token punctuation">;</span>
        r<span class="token punctuation">.</span><span class="token function">r</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">,</span>
            r<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> <span class="token string">'v'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> n<span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> n <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            n<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1e3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> t<span class="token punctuation">,</span> r</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token string">'use strict'</span><span class="token punctuation">;</span>
        r<span class="token punctuation">.</span><span class="token function">r</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token function">r</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1e3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</div><p>同时 webpack 也支持动态 import 和动态 require 语法，原理是分包后通过 webpackJsonp 来加载模块文件。</p>
<p>webpack 5 中出现的 <a href="https://webpack.js.org/concepts/module-federation/#root" target="_blank" rel="noopener noreferrer">Module Federation</a> 也弥补了 webpack 原先跨项目模块引用的缺陷。可以预见 ModuleConcatenation 会对大型前端项目、前端微服务的玩法带来一定的变化。</p>
<h2 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-hidden="true">#</a></h2>
<p>虽然大部分开发者现在都转到 webpack 阵营，但是一些浏览器端的模块加载器还是有它的使用场景，比如多项目间的模块共享，使用一些公共 CDN 的模块等，所以 require.js、SystemJS 等模块化管理工具还是有用武之地，并且随着 http 2.0 的普及，模块分包越来越细。也许不久的将来还会有其它的模块化方案出现。</p>
<p>其实还有很多其它的模块化方案，比如 angularjs 的依赖注入等，由于不是太熟悉这里就不再多说。</p>
<h2 id="最后" tabindex="-1">最后 <a class="header-anchor" href="#最后" aria-hidden="true">#</a></h2>
<ul>
<li>本文涉及的 demo 代码整理在这里 <a href="https://github.com/ZxBing0066/fe-module-examples" target="_blank" rel="noopener noreferrer">FE-module-examples</a></li>
</ul>
<blockquote>
<p>如果有用欢迎点赞，如果有误欢迎留言</p>
</blockquote>
</div></div></div><div class="toc _toc_1ezzn_1"><div class="title level-2"><a href="#文件模块">文件模块</a></div><div class="title level-3"><a href="#全局变量">全局变量</a></div><div class="title level-3"><a href="#命名空间">命名空间</a></div><div class="title level-3"><a href="#iife-包裹">IIFE 包裹</a></div><div class="title level-2"><a href="#模块系统">模块系统</a></div><div class="title level-3"><a href="#commonjs（以下称-cjs）">CommonJS（以下称 CJS）</a></div><div class="title level-3"><a href="#amd">AMD</a></div><div class="title level-3"><a href="#cmd">CMD</a></div><div class="title level-3"><a href="#umd">UMD</a></div><div class="title level-3"><a href="#es-modules">ES Modules</a></div><div class="title level-3"><a href="#systemjs">SystemJS</a></div><div class="title level-2"><a href="#模块打包">模块打包</a></div><div class="title level-3"><a href="#webpack">webpack</a></div><div class="title level-2"><a href="#总结">总结</a></div><div class="title level-2"><a href="#最后">最后</a></div></div></div></div></main></div><footer class="footer _footer_16r70_1"><div class="container"><p class="powered">Powered by<!-- --> <a href="https://github.com/ZxBing0066/rvpress" target="_blank">RVPress</a></p></div></footer><div class="_debug_2dl0w_1 debug "><p class="title">Debug</p><pre class="block">{
    &quot;site&quot;: {
        &quot;lang&quot;: &quot;zh-CN&quot;,
        &quot;title&quot;: &quot;HeyFE&quot;,
        &quot;description&quot;: &quot;HeyFE&#x27;s Blog&quot;,
        &quot;base&quot;: &quot;/&quot;,
        &quot;head&quot;: [],
        &quot;themeConfig&quot;: {
            &quot;lastUpdated&quot;: &quot;Last Updated&quot;,
            &quot;nav&quot;: [
                {
                    &quot;text&quot;: &quot;Blog&quot;,
                    &quot;link&quot;: &quot;/&quot;,
                    &quot;activeMatch&quot;: &quot;^/blog/&quot;
                }
            ],
            &quot;locales&quot;: {}
        },
        &quot;locales&quot;: {},
        &quot;langs&quot;: {}
    },
    &quot;pageList&quot;: [
        {
            &quot;title&quot;: &quot;Git 思维导图&quot;,
            &quot;description&quot;: &quot;&quot;,
            &quot;frontmatter&quot;: {
                &quot;date&quot;: &quot;2014-09-11T12:12:12.000Z&quot;,
                &quot;tags&quot;: [
                    &quot;git&quot;
                ]
            },
            &quot;headers&quot;: [],
            &quot;relativePath&quot;: &quot;blog/2014-09-11-git.md&quot;,
            &quot;createTime&quot;: 1649686573000,
            &quot;lastUpdated&quot;: 1647786576000
        },
        {
            &quot;title&quot;: &quot;Jekyll on Windows 安装&quot;,
            &quot;description&quot;: &quot;&quot;,
            &quot;frontmatter&quot;: {
                &quot;date&quot;: &quot;2014-09-12T22:02:12.000Z&quot;,
                &quot;tags&quot;: [
                    &quot;github&quot;,
                    &quot;jekyll&quot;,
                    &quot;blog&quot;
                ]
            },
            &quot;headers&quot;: [
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;安装 ruby&quot;,
                    &quot;slug&quot;: &quot;安装-ruby&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;安装 Ruby DevKit&quot;,
                    &quot;slug&quot;: &quot;安装-ruby-devkit&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;安装 Jekyll Gem&quot;,
                    &quot;slug&quot;: &quot;安装-jekyll-gem&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;安装 python&quot;,
                    &quot;slug&quot;: &quot;安装-python&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;代码高亮&quot;,
                    &quot;slug&quot;: &quot;代码高亮&quot;
                }
            ],
            &quot;relativePath&quot;: &quot;blog/2014-09-12-how-to-use-jekyll.md&quot;,
            &quot;createTime&quot;: 1649686573000,
            &quot;lastUpdated&quot;: 1647786576000
        },
        {
            &quot;title&quot;: &quot;SublimeText PlainTasks 使用教程&quot;,
            &quot;description&quot;: &quot;&quot;,
            &quot;frontmatter&quot;: {
                &quot;date&quot;: &quot;2014-11-07T21:23:43.000Z&quot;,
                &quot;tags&quot;: [
                    &quot;sublime-text&quot;
                ]
            },
            &quot;headers&quot;: [
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;PlainTasks使用教程(所有快捷键为win下的快捷键,mac需要自行替换)&quot;,
                    &quot;slug&quot;: &quot;plaintasks使用教程-所有快捷键为win下的快捷键-mac需要自行替换&quot;
                }
            ],
            &quot;relativePath&quot;: &quot;blog/2014-11-07-plaintasks-start.md&quot;,
            &quot;createTime&quot;: 1649686573000,
            &quot;lastUpdated&quot;: 1647786576000
        },
        {
            &quot;title&quot;: &quot;SublimeText3 安装&amp;配置&quot;,
            &quot;description&quot;: &quot;&quot;,
            &quot;frontmatter&quot;: {
                &quot;date&quot;: &quot;2014-11-07T10:16:43.000Z&quot;,
                &quot;tags&quot;: [
                    &quot;sublime-text&quot;
                ]
            },
            &quot;headers&quot;: [
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;下载&quot;,
                    &quot;slug&quot;: &quot;下载&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;安装Package Control&quot;,
                    &quot;slug&quot;: &quot;安装package-control&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;下载后直接安装&quot;,
                    &quot;slug&quot;: &quot;下载后直接安装&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;Package Control使用&quot;,
                    &quot;slug&quot;: &quot;package-control使用&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;常用命令&quot;,
                    &quot;slug&quot;: &quot;常用命令&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;手动安装插件&quot;,
                    &quot;slug&quot;: &quot;手动安装插件&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;插件推荐&quot;,
                    &quot;slug&quot;: &quot;插件推荐&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;主题推荐&quot;,
                    &quot;slug&quot;: &quot;主题推荐&quot;
                }
            ],
            &quot;relativePath&quot;: &quot;blog/2014-11-07-sublime-text-3.md&quot;,
            &quot;createTime&quot;: 1649686573000,
            &quot;lastUpdated&quot;: 1647786576000
        },
        {
            &quot;title&quot;: &quot;在 SublimeText 中使用 Gist&quot;,
            &quot;description&quot;: &quot;&quot;,
            &quot;frontmatter&quot;: {
                &quot;date&quot;: &quot;2014-11-08T12:07:43.000Z&quot;,
                &quot;tags&quot;: [
                    &quot;sublime-text&quot;,
                    &quot;gist&quot;
                ]
            },
            &quot;headers&quot;: [
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;首先使用Package Control安装Gist插件&quot;,
                    &quot;slug&quot;: &quot;首先使用package-control安装gist插件&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;在Github中创建Token&quot;,
                    &quot;slug&quot;: &quot;在github中创建token&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;修改Gist插件配置&quot;,
                    &quot;slug&quot;: &quot;修改gist插件配置&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;其它配置项含义&quot;,
                    &quot;slug&quot;: &quot;其它配置项含义&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;快捷键&amp;功能&quot;,
                    &quot;slug&quot;: &quot;快捷键-功能&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;创建Gist&quot;,
                    &quot;slug&quot;: &quot;创建gist&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;添加文件到Gist&quot;,
                    &quot;slug&quot;: &quot;添加文件到gist&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;使用Gist&quot;,
                    &quot;slug&quot;: &quot;使用gist&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;打开Gist&quot;,
                    &quot;slug&quot;: &quot;打开gist&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;编辑删除Gist&quot;,
                    &quot;slug&quot;: &quot;编辑删除gist&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;页面脚本引用&quot;,
                    &quot;slug&quot;: &quot;页面脚本引用&quot;
                }
            ],
            &quot;relativePath&quot;: &quot;blog/2014-11-08-gist.md&quot;,
            &quot;createTime&quot;: 1649686573000,
            &quot;lastUpdated&quot;: 1647786576000
        },
        {
            &quot;title&quot;: &quot;在 Github Pages 中使用 Disqus&quot;,
            &quot;description&quot;: &quot;&quot;,
            &quot;frontmatter&quot;: {
                &quot;date&quot;: &quot;2014-11-12T12:07:43.000Z&quot;,
                &quot;tags&quot;: [
                    &quot;blog&quot;,
                    &quot;disqus&quot;
                ]
            },
            &quot;headers&quot;: [
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;Github Pages由于是一堆静态页面,导致无法写评论和留言,所有这里就用到Disqus了,在页面中引入后便可以实现评论等各种吐槽交互的功能,简直狂拽吊炸天~&quot;,
                    &quot;slug&quot;: &quot;github-pages由于是一堆静态页面-导致无法写评论和留言-所有这里就用到disqus了-在页面中引入后便可以实现评论等各种吐槽交互的功能-简直狂拽吊炸天&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;注册Disqus&quot;,
                    &quot;slug&quot;: &quot;注册disqus&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;新建实例&quot;,
                    &quot;slug&quot;: &quot;新建实例&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;添加Disqus 到页面&quot;,
                    &quot;slug&quot;: &quot;添加disqus-到页面&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;搞定收工&quot;,
                    &quot;slug&quot;: &quot;搞定收工&quot;
                }
            ],
            &quot;relativePath&quot;: &quot;blog/2014-11-12-disqus.md&quot;,
            &quot;createTime&quot;: 1649686573000,
            &quot;lastUpdated&quot;: 1647786576000
        },
        {
            &quot;title&quot;: &quot;Git 中使用 ssh key&quot;,
            &quot;description&quot;: &quot;&quot;,
            &quot;frontmatter&quot;: {
                &quot;date&quot;: &quot;2014-11-12T12:07:43.000Z&quot;,
                &quot;tags&quot;: [
                    &quot;git&quot;
                ]
            },
            &quot;headers&quot;: [
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;生成ssh key公钥&quot;,
                    &quot;slug&quot;: &quot;生成ssh-key公钥&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;创建ssh key:&quot;,
                    &quot;slug&quot;: &quot;创建ssh-key&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;将公钥添加到Github&quot;,
                    &quot;slug&quot;: &quot;将公钥添加到github&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;将https协议clone的仓库修改为git协议&quot;,
                    &quot;slug&quot;: &quot;将https协议clone的仓库修改为git协议&quot;
                }
            ],
            &quot;relativePath&quot;: &quot;blog/2014-11-18-git-ssh-key.md&quot;,
            &quot;createTime&quot;: 1649686573000,
            &quot;lastUpdated&quot;: 1647786576000
        },
        {
            &quot;title&quot;: &quot;Goagent 搭建&quot;,
            &quot;description&quot;: &quot;&quot;,
            &quot;frontmatter&quot;: {
                &quot;date&quot;: &quot;2014-12-06T21:10:23.000Z&quot;,
                &quot;tags&quot;: [
                    &quot;goagent&quot;,
                    &quot;proxy&quot;
                ]
            },
            &quot;headers&quot;: [
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;下载goagent&quot;,
                    &quot;slug&quot;: &quot;下载goagent&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;注册google帐号&quot;,
                    &quot;slug&quot;: &quot;注册google帐号&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;申请Google App Engine&quot;,
                    &quot;slug&quot;: &quot;申请google-app-engine&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;上传goagent&quot;,
                    &quot;slug&quot;: &quot;上传goagent&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;修改本地配置&quot;,
                    &quot;slug&quot;: &quot;修改本地配置&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;翻滚吧&quot;,
                    &quot;slug&quot;: &quot;翻滚吧&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;总结&quot;,
                    &quot;slug&quot;: &quot;总结&quot;
                }
            ],
            &quot;relativePath&quot;: &quot;blog/2014-12-06-goagent.md&quot;,
            &quot;createTime&quot;: 1649686573000,
            &quot;lastUpdated&quot;: 1647786576000
        },
        {
            &quot;title&quot;: &quot;Shadowsocks 搭建&quot;,
            &quot;description&quot;: &quot;&quot;,
            &quot;frontmatter&quot;: {
                &quot;date&quot;: &quot;2014-12-06T12:10:23.000Z&quot;,
                &quot;tags&quot;: [
                    &quot;shadowsocks&quot;,
                    &quot;proxy&quot;
                ]
            },
            &quot;headers&quot;: [
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;搭建环境&quot;,
                    &quot;slug&quot;: &quot;搭建环境&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;安装nodejs环境&quot;,
                    &quot;slug&quot;: &quot;安装nodejs环境&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;安装shadowsocks&quot;,
                    &quot;slug&quot;: &quot;安装shadowsocks&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;配置config文件&quot;,
                    &quot;slug&quot;: &quot;配置config文件&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;启动shadowsocks&quot;,
                    &quot;slug&quot;: &quot;启动shadowsocks&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;本地客户端,准备开始翻 X 吧&quot;,
                    &quot;slug&quot;: &quot;本地客户端-准备开始翻-x-吧&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;配置PAC File&quot;,
                    &quot;slug&quot;: &quot;配置pac-file&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;总结&quot;,
                    &quot;slug&quot;: &quot;总结&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;Trouble Shooting&quot;,
                    &quot;slug&quot;: &quot;trouble-shooting&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;Else&quot;,
                    &quot;slug&quot;: &quot;else&quot;
                }
            ],
            &quot;relativePath&quot;: &quot;blog/2014-12-06-shadowsocks.md&quot;,
            &quot;createTime&quot;: 1649686573000,
            &quot;lastUpdated&quot;: 1647786576000
        },
        {
            &quot;title&quot;: &quot;NodeJS 搭建简易网站&quot;,
            &quot;description&quot;: &quot;&quot;,
            &quot;frontmatter&quot;: {
                &quot;date&quot;: &quot;2014-12-17T15:29:00.000Z&quot;,
                &quot;tags&quot;: [
                    &quot;nodejs&quot;
                ]
            },
            &quot;headers&quot;: [
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;安装nodejs&quot;,
                    &quot;slug&quot;: &quot;安装nodejs&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;安装npm&quot;,
                    &quot;slug&quot;: &quot;安装npm&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;安装express&quot;,
                    &quot;slug&quot;: &quot;安装express&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;创建文件并启动&quot;,
                    &quot;slug&quot;: &quot;创建文件并启动&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;静态文件服务器&quot;,
                    &quot;slug&quot;: &quot;静态文件服务器&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;打完收工&quot;,
                    &quot;slug&quot;: &quot;打完收工&quot;
                }
            ],
            &quot;relativePath&quot;: &quot;blog/2014-12-17-nodejs-simple-server.md&quot;,
            &quot;createTime&quot;: 1649686573000,
            &quot;lastUpdated&quot;: 1647786576000
        },
        {
            &quot;title&quot;: &quot;微信在线相册制作 - 图片篇&quot;,
            &quot;description&quot;: &quot;&quot;,
            &quot;frontmatter&quot;: {
                &quot;date&quot;: &quot;2015-06-29T17:47:00.000Z&quot;,
                &quot;tags&quot;: [
                    &quot;微信&quot;
                ]
            },
            &quot;headers&quot;: [
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;图片选择&quot;,
                    &quot;slug&quot;: &quot;图片选择&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;图片上传&quot;,
                    &quot;slug&quot;: &quot;图片上传&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;图片预览&quot;,
                    &quot;slug&quot;: &quot;图片预览&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;图片压缩&quot;,
                    &quot;slug&quot;: &quot;图片压缩&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;图片方向&quot;,
                    &quot;slug&quot;: &quot;图片方向&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;canvasResize&quot;,
                    &quot;slug&quot;: &quot;canvasresize&quot;
                }
            ],
            &quot;relativePath&quot;: &quot;blog/2015-06-29-weixin-album-image.md&quot;,
            &quot;createTime&quot;: 1649686573000,
            &quot;lastUpdated&quot;: 1647786576000
        },
        {
            &quot;title&quot;: &quot;Weinre&quot;,
            &quot;description&quot;: &quot;&quot;,
            &quot;frontmatter&quot;: {
                &quot;date&quot;: &quot;2015-06-30T14:20:00.000Z&quot;,
                &quot;tags&quot;: [
                    &quot;调试&quot;,
                    &quot;移动端&quot;
                ]
            },
            &quot;headers&quot;: [
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;安装&quot;,
                    &quot;slug&quot;: &quot;安装&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;结构&quot;,
                    &quot;slug&quot;: &quot;结构&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;原理&quot;,
                    &quot;slug&quot;: &quot;原理&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;配置&quot;,
                    &quot;slug&quot;: &quot;配置&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;运行&quot;,
                    &quot;slug&quot;: &quot;运行&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;脚本&quot;,
                    &quot;slug&quot;: &quot;脚本&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;调试&quot;,
                    &quot;slug&quot;: &quot;调试&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;面板&quot;,
                    &quot;slug&quot;: &quot;面板&quot;
                }
            ],
            &quot;relativePath&quot;: &quot;blog/2015-06-30-weinre.md&quot;,
            &quot;createTime&quot;: 1649686573000,
            &quot;lastUpdated&quot;: 1647786576000
        },
        {
            &quot;title&quot;: &quot;微信在线相册制作 - 微信篇&quot;,
            &quot;description&quot;: &quot;&quot;,
            &quot;frontmatter&quot;: {
                &quot;date&quot;: &quot;2015-06-30T12:46:00.000Z&quot;,
                &quot;tags&quot;: [
                    &quot;微信&quot;
                ]
            },
            &quot;headers&quot;: [
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;wx.ready&quot;,
                    &quot;slug&quot;: &quot;wx-ready&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;wx.chooseImage&quot;,
                    &quot;slug&quot;: &quot;wx-chooseimage&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;css 冲突&quot;,
                    &quot;slug&quot;: &quot;css-冲突&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;dom 属性获取错误&quot;,
                    &quot;slug&quot;: &quot;dom-属性获取错误&quot;
                }
            ],
            &quot;relativePath&quot;: &quot;blog/2015-06-30-weixin-album-weixin.md&quot;,
            &quot;createTime&quot;: 1649686573000,
            &quot;lastUpdated&quot;: 1647786576000
        },
        {
            &quot;title&quot;: &quot;Shell 脚本初尝试&quot;,
            &quot;description&quot;: &quot;&quot;,
            &quot;frontmatter&quot;: {
                &quot;date&quot;: &quot;2016-08-14T14:57:47.000Z&quot;,
                &quot;tags&quot;: [
                    &quot;shell&quot;
                ]
            },
            &quot;headers&quot;: [
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;Trouble Shooting&quot;,
                    &quot;slug&quot;: &quot;trouble-shooting&quot;
                }
            ],
            &quot;relativePath&quot;: &quot;blog/2016-08-14-shell-scripting.md&quot;,
            &quot;createTime&quot;: 1649686573000,
            &quot;lastUpdated&quot;: 1647786576000
        },
        {
            &quot;title&quot;: &quot;Tmux 配置详解&quot;,
            &quot;description&quot;: &quot;&quot;,
            &quot;frontmatter&quot;: {
                &quot;date&quot;: &quot;2016-08-15T06:57:47.000Z&quot;,
                &quot;tags&quot;: [
                    &quot;terminal&quot;,
                    &quot;tmux&quot;
                ]
            },
            &quot;headers&quot;: [
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;安装&quot;,
                    &quot;slug&quot;: &quot;安装&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;panes 的默认布局方式&quot;,
                    &quot;slug&quot;: &quot;panes-的默认布局方式&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;CLIENTS 和 SESSIONS&quot;,
                    &quot;slug&quot;: &quot;clients-和-sessions&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;WINDOWS 和 PANES&quot;,
                    &quot;slug&quot;: &quot;windows-和-panes&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;快捷键&quot;,
                    &quot;slug&quot;: &quot;快捷键&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;Trouble Shooting&quot;,
                    &quot;slug&quot;: &quot;trouble-shooting&quot;
                }
            ],
            &quot;relativePath&quot;: &quot;blog/2016-08-15-tmux.md&quot;,
            &quot;createTime&quot;: 1649686573000,
            &quot;lastUpdated&quot;: 1647786576000
        },
        {
            &quot;title&quot;: &quot;Javascript 严格模式&quot;,
            &quot;description&quot;: &quot;&quot;,
            &quot;frontmatter&quot;: {
                &quot;date&quot;: &quot;2016-08-26T18:08:18.000Z&quot;,
                &quot;tags&quot;: [
                    &quot;javascript&quot;
                ]
            },
            &quot;headers&quot;: [
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;兼容版本&quot;,
                    &quot;slug&quot;: &quot;兼容版本&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;宣告严格模式&quot;,
                    &quot;slug&quot;: &quot;宣告严格模式&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;严格模式中不允许的代码&quot;,
                    &quot;slug&quot;: &quot;严格模式中不允许的代码&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;注意事项&quot;,
                    &quot;slug&quot;: &quot;注意事项&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;参考文献地址&quot;,
                    &quot;slug&quot;: &quot;参考文献地址&quot;
                }
            ],
            &quot;relativePath&quot;: &quot;blog/2016-08-26-strict-mode.md&quot;,
            &quot;createTime&quot;: 1649686573000,
            &quot;lastUpdated&quot;: 1647786576000
        },
        {
            &quot;title&quot;: &quot;tmuxinator 使用&quot;,
            &quot;description&quot;: &quot;&quot;,
            &quot;frontmatter&quot;: {
                &quot;date&quot;: &quot;2016-08-26T06:03:27.000Z&quot;,
                &quot;tags&quot;: [
                    &quot;terminal&quot;,
                    &quot;tmux&quot;
                ]
            },
            &quot;headers&quot;: [
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;安装&quot;,
                    &quot;slug&quot;: &quot;安装&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;设置默认编辑器&quot;,
                    &quot;slug&quot;: &quot;设置默认编辑器&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;自动补全&quot;,
                    &quot;slug&quot;: &quot;自动补全&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;使用&quot;,
                    &quot;slug&quot;: &quot;使用&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;其他命令&quot;,
                    &quot;slug&quot;: &quot;其他命令&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;项目文件详解&quot;,
                    &quot;slug&quot;: &quot;项目文件详解&quot;
                }
            ],
            &quot;relativePath&quot;: &quot;blog/2016-08-26-tmuxinator.md&quot;,
            &quot;createTime&quot;: 1649686573000,
            &quot;lastUpdated&quot;: 1647786576000
        },
        {
            &quot;title&quot;: &quot;Tmux 配置&quot;,
            &quot;description&quot;: &quot;&quot;,
            &quot;frontmatter&quot;: {
                &quot;date&quot;: &quot;2016-08-27T05:45:43.000Z&quot;,
                &quot;tags&quot;: [
                    &quot;terminal&quot;,
                    &quot;tmux&quot;
                ]
            },
            &quot;headers&quot;: [
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;配置文件&quot;,
                    &quot;slug&quot;: &quot;配置文件&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;配置文件修改&quot;,
                    &quot;slug&quot;: &quot;配置文件修改&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;参考文献&quot;,
                    &quot;slug&quot;: &quot;参考文献&quot;
                }
            ],
            &quot;relativePath&quot;: &quot;blog/2016-08-27-tmux-config.md&quot;,
            &quot;createTime&quot;: 1649686573000,
            &quot;lastUpdated&quot;: 1647786576000
        },
        {
            &quot;title&quot;: &quot;观察者模式&quot;,
            &quot;description&quot;: &quot;&quot;,
            &quot;frontmatter&quot;: {
                &quot;date&quot;: &quot;2016-09-12T05:53:02.000Z&quot;,
                &quot;tags&quot;: [
                    &quot;设计模式&quot;
                ]
            },
            &quot;headers&quot;: [
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;介绍&quot;,
                    &quot;slug&quot;: &quot;介绍&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;代码示例&quot;,
                    &quot;slug&quot;: &quot;代码示例&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;代码解析&quot;,
                    &quot;slug&quot;: &quot;代码解析&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;优势&quot;,
                    &quot;slug&quot;: &quot;优势&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;缺点&quot;,
                    &quot;slug&quot;: &quot;缺点&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;注意事项&quot;,
                    &quot;slug&quot;: &quot;注意事项&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;观察者模式和发布/订阅模式&quot;,
                    &quot;slug&quot;: &quot;观察者模式和发布-订阅模式&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;参考文献&quot;,
                    &quot;slug&quot;: &quot;参考文献&quot;
                }
            ],
            &quot;relativePath&quot;: &quot;blog/2016-09-12-observer-pattern.md&quot;,
            &quot;createTime&quot;: 1649686573000,
            &quot;lastUpdated&quot;: 1647786576000
        },
        {
            &quot;title&quot;: &quot;RxJS&quot;,
            &quot;description&quot;: &quot;&quot;,
            &quot;frontmatter&quot;: {
                &quot;date&quot;: &quot;2016-09-12T11:05:28.000Z&quot;,
                &quot;ignoreInList&quot;: true
            },
            &quot;headers&quot;: [
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;介绍&quot;,
                    &quot;slug&quot;: &quot;介绍&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;例子&quot;,
                    &quot;slug&quot;: &quot;例子&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;参考文献&quot;,
                    &quot;slug&quot;: &quot;参考文献&quot;
                }
            ],
            &quot;relativePath&quot;: &quot;blog/2016-09-12-rxjs.md&quot;,
            &quot;createTime&quot;: 1649686573000,
            &quot;lastUpdated&quot;: 1647786576000
        },
        {
            &quot;title&quot;: &quot;JavaScript 代码性能优化 - 从排查到处理&quot;,
            &quot;description&quot;: &quot;&quot;,
            &quot;frontmatter&quot;: {
                &quot;tags&quot;: [
                    &quot;javascript&quot;,
                    &quot;performance&quot;
                ],
                &quot;date&quot;: &quot;2019-11-14T00:00:00.000Z&quot;
            },
            &quot;headers&quot;: [
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;性能问题排查与收集&quot;,
                    &quot;slug&quot;: &quot;性能问题排查与收集&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;Performance&quot;,
                    &quot;slug&quot;: &quot;performance&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;JavaScript Profiler&quot;,
                    &quot;slug&quot;: &quot;javascript-profiler&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;console.time&quot;,
                    &quot;slug&quot;: &quot;console-time&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;性能问题整理和优化&quot;,
                    &quot;slug&quot;: &quot;性能问题整理和优化&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;拆分循环中的任务&quot;,
                    &quot;slug&quot;: &quot;拆分循环中的任务&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;理清逻辑&quot;,
                    &quot;slug&quot;: &quot;理清逻辑&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;善用位运算&quot;,
                    &quot;slug&quot;: &quot;善用位运算&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;减少重复任务&quot;,
                    &quot;slug&quot;: &quot;减少重复任务&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;尽早退出&quot;,
                    &quot;slug&quot;: &quot;尽早退出&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;善用 lazy&quot;,
                    &quot;slug&quot;: &quot;善用-lazy&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;成果&quot;,
                    &quot;slug&quot;: &quot;成果&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;总结&quot;,
                    &quot;slug&quot;: &quot;总结&quot;
                }
            ],
            &quot;relativePath&quot;: &quot;blog/2019-console-performance.md&quot;,
            &quot;createTime&quot;: 1650038339000,
            &quot;lastUpdated&quot;: 1650038339000
        },
        {
            &quot;title&quot;: &quot;如何方便的为团队所有项目统一 ESLint 配置&quot;,
            &quot;description&quot;: &quot;&quot;,
            &quot;frontmatter&quot;: {
                &quot;tags&quot;: [
                    &quot;eslint&quot;,
                    &quot;team&quot;
                ],
                &quot;date&quot;: &quot;2019-11-18T00:00:00.000Z&quot;
            },
            &quot;headers&quot;: [
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;前言&quot;,
                    &quot;slug&quot;: &quot;前言&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;统一配置处理&quot;,
                    &quot;slug&quot;: &quot;统一配置处理&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;ESLint extends&quot;,
                    &quot;slug&quot;: &quot;eslint-extends&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;Package eslintConfig&quot;,
                    &quot;slug&quot;: &quot;package-eslintconfig&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;依赖包&quot;,
                    &quot;slug&quot;: &quot;依赖包&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;参考&quot;,
                    &quot;slug&quot;: &quot;参考&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;保证配置不被篡改&quot;,
                    &quot;slug&quot;: &quot;保证配置不被篡改&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;CLI&quot;,
                    &quot;slug&quot;: &quot;cli&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;commit hook&quot;,
                    &quot;slug&quot;: &quot;commit-hook&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;CI/CD&quot;,
                    &quot;slug&quot;: &quot;ci-cd&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;发布系统发布时做校验&quot;,
                    &quot;slug&quot;: &quot;发布系统发布时做校验&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;后续升级&quot;,
                    &quot;slug&quot;: &quot;后续升级&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;总结&quot;,
                    &quot;slug&quot;: &quot;总结&quot;
                }
            ],
            &quot;relativePath&quot;: &quot;blog/2019-eslint-config-team.md&quot;,
            &quot;createTime&quot;: 1650038339000,
            &quot;lastUpdated&quot;: 1650038339000
        },
        {
            &quot;title&quot;: &quot;GitHub Pages 如何实现 SPA&quot;,
            &quot;description&quot;: &quot;&quot;,
            &quot;frontmatter&quot;: {
                &quot;tags&quot;: [
                    &quot;github&quot;
                ],
                &quot;date&quot;: &quot;2019-11-05T00:00:00.000Z&quot;
            },
            &quot;headers&quot;: [
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;前因&quot;,
                    &quot;slug&quot;: &quot;前因&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;404&quot;,
                    &quot;slug&quot;: &quot;_404&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;初次方案&quot;,
                    &quot;slug&quot;: &quot;初次方案&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;进阶方案&quot;,
                    &quot;slug&quot;: &quot;进阶方案&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;最终效果&quot;,
                    &quot;slug&quot;: &quot;最终效果&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;注意事项&quot;,
                    &quot;slug&quot;: &quot;注意事项&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;参考&quot;,
                    &quot;slug&quot;: &quot;参考&quot;
                }
            ],
            &quot;relativePath&quot;: &quot;blog/2019-github-pages-spa.md&quot;,
            &quot;createTime&quot;: 1650038339000,
            &quot;lastUpdated&quot;: 1649686573000
        },
        {
            &quot;title&quot;: &quot;动手实现一个 JavaScript 沙箱&quot;,
            &quot;description&quot;: &quot;&quot;,
            &quot;frontmatter&quot;: {
                &quot;tags&quot;: [
                    &quot;javascript&quot;,
                    &quot;sandbox&quot;
                ],
                &quot;date&quot;: &quot;2019-10-25T00:00:00.000Z&quot;
            },
            &quot;headers&quot;: [
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;前言&quot;,
                    &quot;slug&quot;: &quot;前言&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;动手&quot;,
                    &quot;slug&quot;: &quot;动手&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;代码执行&quot;,
                    &quot;slug&quot;: &quot;代码执行&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;初版实现&quot;,
                    &quot;slug&quot;: &quot;初版实现&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;进阶实现&quot;,
                    &quot;slug&quot;: &quot;进阶实现&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;最终实现&quot;,
                    &quot;slug&quot;: &quot;最终实现&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;使用场景&quot;,
                    &quot;slug&quot;: &quot;使用场景&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;举个 🌰&quot;,
                    &quot;slug&quot;: &quot;举个-🌰&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;局限性&quot;,
                    &quot;slug&quot;: &quot;局限性&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;扩展阅读&quot;,
                    &quot;slug&quot;: &quot;扩展阅读&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;参考文献&quot;,
                    &quot;slug&quot;: &quot;参考文献&quot;
                }
            ],
            &quot;relativePath&quot;: &quot;blog/2019-javascript-sandbox.md&quot;,
            &quot;createTime&quot;: 1650038339000,
            &quot;lastUpdated&quot;: 1649686573000
        },
        {
            &quot;title&quot;: &quot;IDE AI 自动补全插件 TabNine&quot;,
            &quot;description&quot;: &quot;&quot;,
            &quot;frontmatter&quot;: {
                &quot;tags&quot;: [
                    &quot;生产力&quot;
                ],
                &quot;date&quot;: &quot;2019-11-06T00:00:00.000Z&quot;
            },
            &quot;headers&quot;: [
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;介绍&quot;,
                    &quot;slug&quot;: &quot;介绍&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;支持&quot;,
                    &quot;slug&quot;: &quot;支持&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;使用感受&quot;,
                    &quot;slug&quot;: &quot;使用感受&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;指令&quot;,
                    &quot;slug&quot;: &quot;指令&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;配置面板&quot;,
                    &quot;slug&quot;: &quot;配置面板&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;上车&quot;,
                    &quot;slug&quot;: &quot;上车&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;链接&quot;,
                    &quot;slug&quot;: &quot;链接&quot;
                }
            ],
            &quot;relativePath&quot;: &quot;blog/2019-tab-nine.md&quot;,
            &quot;createTime&quot;: 1650038339000,
            &quot;lastUpdated&quot;: 1650038339000
        },
        {
            &quot;title&quot;: &quot;是时候学习/推广一波可选链（Optional chaining）和空值合并（Nullish coalescing ）了&quot;,
            &quot;description&quot;: &quot;&quot;,
            &quot;frontmatter&quot;: {
                &quot;tags&quot;: [
                    &quot;javascript&quot;
                ],
                &quot;date&quot;: &quot;2020-07-04T00:00:00.000Z&quot;
            },
            &quot;headers&quot;: [
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;背景&quot;,
                    &quot;slug&quot;: &quot;背景&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;Optional chaining 介绍&quot;,
                    &quot;slug&quot;: &quot;optional-chaining-介绍&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;Nullish coalescing 介绍&quot;,
                    &quot;slug&quot;: &quot;nullish-coalescing-介绍&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;如何使用&quot;,
                    &quot;slug&quot;: &quot;如何使用&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;Babel 转义&quot;,
                    &quot;slug&quot;: &quot;babel-转义&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;注意点&quot;,
                    &quot;slug&quot;: &quot;注意点&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;document.all&quot;,
                    &quot;slug&quot;: &quot;document-all&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;loose&quot;,
                    &quot;slug&quot;: &quot;loose&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;总结&quot;,
                    &quot;slug&quot;: &quot;总结&quot;
                }
            ],
            &quot;relativePath&quot;: &quot;blog/2020-es-features.md&quot;,
            &quot;createTime&quot;: 1650038339000,
            &quot;lastUpdated&quot;: 1650038339000
        },
        {
            &quot;title&quot;: &quot;前端模块简史 - CJS &amp; *MD &amp; ES Modules &amp; SystemJS &amp; Webpack&quot;,
            &quot;description&quot;: &quot;&quot;,
            &quot;frontmatter&quot;: {
                &quot;tags&quot;: [
                    &quot;javascript&quot;,
                    &quot;module&quot;
                ],
                &quot;date&quot;: &quot;2020-06-18T00:00:00.000Z&quot;
            },
            &quot;headers&quot;: [
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;文件模块&quot;,
                    &quot;slug&quot;: &quot;文件模块&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;全局变量&quot;,
                    &quot;slug&quot;: &quot;全局变量&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;命名空间&quot;,
                    &quot;slug&quot;: &quot;命名空间&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;IIFE 包裹&quot;,
                    &quot;slug&quot;: &quot;iife-包裹&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;模块系统&quot;,
                    &quot;slug&quot;: &quot;模块系统&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;CommonJS（以下称 CJS）&quot;,
                    &quot;slug&quot;: &quot;commonjs（以下称-cjs）&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;AMD&quot;,
                    &quot;slug&quot;: &quot;amd&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;CMD&quot;,
                    &quot;slug&quot;: &quot;cmd&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;UMD&quot;,
                    &quot;slug&quot;: &quot;umd&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;ES Modules&quot;,
                    &quot;slug&quot;: &quot;es-modules&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;SystemJS&quot;,
                    &quot;slug&quot;: &quot;systemjs&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;模块打包&quot;,
                    &quot;slug&quot;: &quot;模块打包&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;webpack&quot;,
                    &quot;slug&quot;: &quot;webpack&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;总结&quot;,
                    &quot;slug&quot;: &quot;总结&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;最后&quot;,
                    &quot;slug&quot;: &quot;最后&quot;
                }
            ],
            &quot;relativePath&quot;: &quot;blog/2020-modules.md&quot;,
            &quot;createTime&quot;: 1650038339000,
            &quot;lastUpdated&quot;: 1650038339000
        },
        {
            &quot;title&quot;: &quot;大型 SPA 项目架构设计与重构&quot;,
            &quot;description&quot;: &quot;&quot;,
            &quot;frontmatter&quot;: {
                &quot;tags&quot;: [
                    &quot;architecture&quot;
                ],
                &quot;date&quot;: &quot;2021-08-27T00:00:00.000Z&quot;
            },
            &quot;headers&quot;: [
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;老架构介绍&quot;,
                    &quot;slug&quot;: &quot;老架构介绍&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;老架构存在的问题&quot;,
                    &quot;slug&quot;: &quot;老架构存在的问题&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;新架构&quot;,
                    &quot;slug&quot;: &quot;新架构&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;启动器&quot;,
                    &quot;slug&quot;: &quot;启动器&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;公共模块&quot;,
                    &quot;slug&quot;: &quot;公共模块&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;业务模块&quot;,
                    &quot;slug&quot;: &quot;业务模块&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;优化后&quot;,
                    &quot;slug&quot;: &quot;优化后&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;运行流程&quot;,
                    &quot;slug&quot;: &quot;运行流程&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;开发&quot;,
                    &quot;slug&quot;: &quot;开发&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;现状&quot;,
                    &quot;slug&quot;: &quot;现状&quot;
                }
            ],
            &quot;relativePath&quot;: &quot;blog/2021-console-architecture.md&quot;,
            &quot;createTime&quot;: 1650038339000,
            &quot;lastUpdated&quot;: 1650038339000
        },
        {
            &quot;title&quot;: &quot;Elements&quot;,
            &quot;description&quot;: &quot;&quot;,
            &quot;frontmatter&quot;: {
                &quot;tags&quot;: [
                    &quot;blog&quot;
                ]
            },
            &quot;headers&quot;: [
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;H2 Heading&quot;,
                    &quot;slug&quot;: &quot;h2-heading&quot;
                },
                {
                    &quot;level&quot;: 3,
                    &quot;title&quot;: &quot;H3 Heading&quot;,
                    &quot;slug&quot;: &quot;h3-heading&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;List&quot;,
                    &quot;slug&quot;: &quot;list&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;Table&quot;,
                    &quot;slug&quot;: &quot;table&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;Quotes&quot;,
                    &quot;slug&quot;: &quot;quotes&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;Syntax Highlighter&quot;,
                    &quot;slug&quot;: &quot;syntax-highlighter&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;Images&quot;,
                    &quot;slug&quot;: &quot;images&quot;
                },
                {
                    &quot;level&quot;: 2,
                    &quot;title&quot;: &quot;iframe 嵌入&quot;,
                    &quot;slug&quot;: &quot;iframe-嵌入&quot;
                }
            ],
            &quot;relativePath&quot;: &quot;elements.md&quot;,
            &quot;createTime&quot;: 1649686573000,
            &quot;lastUpdated&quot;: 1649686573000
        },
        {
            &quot;title&quot;: &quot;&quot;,
            &quot;description&quot;: &quot;&quot;,
            &quot;frontmatter&quot;: {
                &quot;list&quot;: true
            },
            &quot;headers&quot;: [],
            &quot;relativePath&quot;: &quot;index.md&quot;,
            &quot;createTime&quot;: 1649686573000,
            &quot;lastUpdated&quot;: 1649686573000
        }
    ],
    &quot;theme&quot;: {
        &quot;lastUpdated&quot;: &quot;Last Updated&quot;,
        &quot;nav&quot;: [
            {
                &quot;text&quot;: &quot;Blog&quot;,
                &quot;link&quot;: &quot;/&quot;,
                &quot;activeMatch&quot;: &quot;^/blog/&quot;
            }
        ],
        &quot;locales&quot;: {}
    },
    &quot;page&quot;: {
        &quot;title&quot;: &quot;前端模块简史 - CJS &amp; *MD &amp; ES Modules &amp; SystemJS &amp; Webpack&quot;,
        &quot;description&quot;: &quot;&quot;,
        &quot;frontmatter&quot;: {
            &quot;tags&quot;: [
                &quot;javascript&quot;,
                &quot;module&quot;
            ],
            &quot;date&quot;: &quot;2020-06-18T00:00:00.000Z&quot;
        },
        &quot;headers&quot;: [
            {
                &quot;level&quot;: 2,
                &quot;title&quot;: &quot;文件模块&quot;,
                &quot;slug&quot;: &quot;文件模块&quot;
            },
            {
                &quot;level&quot;: 3,
                &quot;title&quot;: &quot;全局变量&quot;,
                &quot;slug&quot;: &quot;全局变量&quot;
            },
            {
                &quot;level&quot;: 3,
                &quot;title&quot;: &quot;命名空间&quot;,
                &quot;slug&quot;: &quot;命名空间&quot;
            },
            {
                &quot;level&quot;: 3,
                &quot;title&quot;: &quot;IIFE 包裹&quot;,
                &quot;slug&quot;: &quot;iife-包裹&quot;
            },
            {
                &quot;level&quot;: 2,
                &quot;title&quot;: &quot;模块系统&quot;,
                &quot;slug&quot;: &quot;模块系统&quot;
            },
            {
                &quot;level&quot;: 3,
                &quot;title&quot;: &quot;CommonJS（以下称 CJS）&quot;,
                &quot;slug&quot;: &quot;commonjs（以下称-cjs）&quot;
            },
            {
                &quot;level&quot;: 3,
                &quot;title&quot;: &quot;AMD&quot;,
                &quot;slug&quot;: &quot;amd&quot;
            },
            {
                &quot;level&quot;: 3,
                &quot;title&quot;: &quot;CMD&quot;,
                &quot;slug&quot;: &quot;cmd&quot;
            },
            {
                &quot;level&quot;: 3,
                &quot;title&quot;: &quot;UMD&quot;,
                &quot;slug&quot;: &quot;umd&quot;
            },
            {
                &quot;level&quot;: 3,
                &quot;title&quot;: &quot;ES Modules&quot;,
                &quot;slug&quot;: &quot;es-modules&quot;
            },
            {
                &quot;level&quot;: 3,
                &quot;title&quot;: &quot;SystemJS&quot;,
                &quot;slug&quot;: &quot;systemjs&quot;
            },
            {
                &quot;level&quot;: 2,
                &quot;title&quot;: &quot;模块打包&quot;,
                &quot;slug&quot;: &quot;模块打包&quot;
            },
            {
                &quot;level&quot;: 3,
                &quot;title&quot;: &quot;webpack&quot;,
                &quot;slug&quot;: &quot;webpack&quot;
            },
            {
                &quot;level&quot;: 2,
                &quot;title&quot;: &quot;总结&quot;,
                &quot;slug&quot;: &quot;总结&quot;
            },
            {
                &quot;level&quot;: 2,
                &quot;title&quot;: &quot;最后&quot;,
                &quot;slug&quot;: &quot;最后&quot;
            }
        ],
        &quot;relativePath&quot;: &quot;blog/2020-modules.md&quot;,
        &quot;createTime&quot;: 1650038339000,
        &quot;lastUpdated&quot;: 1650038339000
    },
    &quot;frontmatter&quot;: {
        &quot;tags&quot;: [
            &quot;javascript&quot;,
            &quot;module&quot;
        ],
        &quot;date&quot;: &quot;2020-06-18T00:00:00.000Z&quot;
    },
    &quot;lang&quot;: &quot;zh-CN&quot;,
    &quot;title&quot;: &quot;前端模块简史 - CJS &amp; *MD &amp; ES Modules &amp; SystemJS &amp; Webpack | HeyFE&quot;,
    &quot;description&quot;: &quot;HeyFE&#x27;s Blog&quot;,
    &quot;localePath&quot;: &quot;/&quot;
}</pre></div></div></div>
        <script>__RVP_HASH_MAP__ = JSON.parse("{\"blog_2014-09-11-git.md\":\"7aeefd49\",\"blog_2014-09-12-how-to-use-jekyll.md\":\"cace8279\",\"blog_2014-11-07-plaintasks-start.md\":\"bce96d48\",\"blog_2014-11-07-sublime-text-3.md\":\"37dd30e3\",\"blog_2014-11-08-gist.md\":\"2a0cd9d5\",\"blog_2014-11-12-disqus.md\":\"ea92519b\",\"blog_2014-11-18-git-ssh-key.md\":\"931606bb\",\"blog_2014-12-06-goagent.md\":\"57e223cf\",\"blog_2014-12-06-shadowsocks.md\":\"9d09b264\",\"blog_2014-12-17-nodejs-simple-server.md\":\"18bd75ee\",\"blog_2015-06-29-weixin-album-image.md\":\"7ed1ef0a\",\"blog_2015-06-30-weinre.md\":\"4be7a6d8\",\"blog_2015-06-30-weixin-album-weixin.md\":\"00238d22\",\"blog_2016-08-14-shell-scripting.md\":\"e7e0b013\",\"blog_2016-08-15-tmux.md\":\"ed94400f\",\"blog_2016-08-26-strict-mode.md\":\"0fc09ebe\",\"blog_2016-08-26-tmuxinator.md\":\"007b22fa\",\"blog_2016-08-27-tmux-config.md\":\"928b54fb\",\"blog_2016-09-12-observer-pattern.md\":\"cf90a287\",\"blog_2016-09-12-rxjs.md\":\"90092117\",\"blog_2019-console-performance.md\":\"2cc5e7c3\",\"blog_2019-eslint-config-team.md\":\"573c8a09\",\"blog_2019-github-pages-spa.md\":\"a526948f\",\"blog_2019-javascript-sandbox.md\":\"eb6a0008\",\"blog_2019-tab-nine.md\":\"5e3fd988\",\"blog_2020-es-features.md\":\"bbb01e09\",\"blog_2020-modules.md\":\"e77bcabf\",\"blog_2021-console-architecture.md\":\"d111ac7f\",\"elements.md\":\"1caa520e\",\"index.md\":\"e4d4d337\"}")</script>
        <script type="module" async src="/assets/app.d36d7bad.js"></script>
        
    </body>
</html>